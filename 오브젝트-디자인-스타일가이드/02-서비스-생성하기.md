# 서비스 생성하기

> * 서비스 객체의 인스턴스 생성하기
> * 의존성과 설정값을 주입하고 확인하기
> * 선택적인 생성자 인자를 필수 요소로 승격시키기
> * 암시적 의존성을 명시적으로 만들기
> * 서비스를 변경 불가능하게 디자인하기

## 2.1 객체의 두 종류
* 작업을 수행하거나 정보를 반환하는 `서비스 객체`
  * 한번 생성하면 여러 번 사용하지만 그 자신은 바꿀 수 없다.
* 생명 주기도 매우 단순하다. 한 번생성하면 특정 작업을 하는 기계처럼 영원히 실행할 수 있다.
* 데이터르 담고 있으며, 그 데이터를 조작하거나 가져오는 행위를 선택적으로 드려내는 객체
  * 서비스가 작동할 때 함께 하는 재료다.
  * 재료 객체의 생명주기는 서비스보다 더 복잡하다.

## 2.2 의존성과 설정값은 생성자 인자로 주입힌다.
흔히 서비스는 일을 처리하는데 다른 서비스가 필요하다. 그런 다른 서비스가 의존성이며, 생성자 인자로 주입한다.
```kotlin
interface Logger {
    fun log(message: String)
}

interface Formatter {
    fun format(message: String): String
}

class FileLogger (private val formatter: Formatter): Logger {
    // Formatter 에 의존한다.
    override fun log(message: String) {
        formatter.format(message)
        TODO("Not yet implemented")
    }
}
```
* 모든 의존성을 생성자 인자로 사용하게 하면 인스턴스 생성 즉시 서비스를 준비할 수 있다. 
* 추가 설정은 필요치 않으며 뜻하지 않게 의존성을 빠뜨릴 일도 없다.
* 파일 저장 위치나 외부 서비스 연결에 사용하는 증명 같은 것도 생성자 인자로 주입한다.
* ⚠️ 설정 객체 전체를 주입하지 말고 서비스에 필요한 값만 주입하자

### 2.2.1 짝 지은 설정값은 함께 둔다

